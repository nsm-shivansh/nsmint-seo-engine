<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="meta-title">N S Mint Products | Technical Data</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');
        body { font-family: 'Inter', sans-serif; }
        
        /* FIX: Ensure dropdown isn't hidden by overflow */
        .nav-container { position: relative; z-index: 100; }
        .dropdown-menu { 
            display: none; 
            position: absolute; 
            top: 100%; 
            left: 0; 
            z-index: 999; 
            background: white;
            min-width: 280px;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            border-radius: 0.75rem;
            border: 1px solid #e2e8f0;
        }
        .dropdown:hover .dropdown-menu { display: block; }
        .hero-gradient { background: linear-gradient(135deg, #064e3b 0%, #14532d 100%); }
        
        /* Hide scrollbar but keep functionality for the nav bar */
        #category-nav::-webkit-scrollbar { display: none; }
        #category-nav { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="bg-slate-50 text-slate-900">

    <nav class="bg-white border-b border-slate-200">
        <div class="max-w-7xl mx-auto px-6 py-5 flex justify-between items-center">
            <img src="https://www.nsmint.com/images/logo.png" alt="N S Mint Logo" class="h-12 md:h-16">
            <div class="hidden sm:block text-right">
                <p class="text-[10px] font-bold text-slate-400 uppercase tracking-widest">3-Star Export House</p>
                <p class="text-green-700 font-extrabold">International Division</p>
            </div>
        </div>
        
        <div class="bg-slate-900 text-white border-t border-slate-800">
            <div id="category-nav" class="max-w-7xl mx-auto px-6 flex items-center space-x-2 overflow-x-visible h-14">
                <span class="text-[10px] font-black text-slate-500 uppercase tracking-tighter mr-4 whitespace-nowrap">Market Catalog:</span>
                </div>
        </div>
    </nav>

    <header class="hero-gradient text-white py-24 px-6 shadow-inner">
        <div class="max-w-5xl mx-auto">
            <div class="inline-block bg-green-500/20 border border-green-500/30 px-4 py-1 rounded-full mb-6">
                <p class="text-green-300 font-bold uppercase tracking-widest text-[10px]">Verified Technical Documentation</p>
            </div>
            <h1 id="main-heading" class="text-5xl md:text-7xl font-extrabold mb-8 tracking-tighter leading-[1.1]">
                </h1>
            <p class="text-xl md:text-2xl font-light text-green-50/80 leading-relaxed max-w-3xl">
                Global supply of premium <span id="intro-prod" class="font-bold text-white"></span> tailored for the regulatory standards of <span class="country-display text-green-400 font-bold"></span>.
            </p>
        </div>
    </header>

    <main class="max-w-7xl mx-auto py-16 px-6">
        <div class="grid lg:grid-cols-3 gap-8">
            
            <div class="lg:col-span-2 space-y-8">
                <div class="bg-white rounded-3xl p-8 md:p-12 shadow-sm border border-slate-200">
                    <h2 class="text-xs font-black text-slate-400 uppercase tracking-widest mb-10 border-b border-slate-100 pb-4">Standard Technical Data (COA)</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-10">
                        <div>
                            <p class="text-[10px] font-bold text-green-600 uppercase mb-2">Grade / Application</p>
                            <p id="spec-grade" class="text-2xl font-bold text-slate-800 tracking-tight">Checking...</p>
                        </div>
                        <div>
                            <p class="text-[10px] font-bold text-green-600 uppercase mb-2">Purity Standard</p>
                            <p id="spec-purity" class="text-2xl font-bold text-slate-800 tracking-tight">Checking...</p>
                        </div>
                        <div>
                            <p class="text-[10px] font-bold text-green-600 uppercase mb-2">Extraction / Method</p>
                            <p id="spec-method" class="text-2xl font-bold text-slate-800 tracking-tight">Checking...</p>
                        </div>
                        <div>
                            <p class="text-[10px] font-bold text-green-600 uppercase mb-2">Facility Origin</p>
                            <p class="text-2xl font-bold text-slate-800 tracking-tight">Sambhal, India</p>
                        </div>
                    </div>
                </div>

                <div class="prose prose-slate max-w-none">
                    <h2 class="text-3xl font-bold text-slate-900 mb-6 uppercase tracking-tight">Exporter to <span class="country-display text-green-700"></span></h2>
                    <p id="p1" class="text-lg text-slate-600 leading-relaxed mb-6"></p>
                    <div class="bg-slate-900 text-white rounded-2xl p-8 mb-6">
                        <p class="text-xs font-bold uppercase tracking-widest text-slate-400 mb-4 text-center">Industry Certifications</p>
                        <div class="flex flex-wrap justify-center gap-6 opacity-80 italic text-sm">
                            <span>WHO-GMP</span> • <span>FSSC 22000</span> • <span>REACH Compliant</span> • <span>3-Star Export House</span>
                        </div>
                    </div>
                    <p id="p2" class="text-lg text-slate-600 leading-relaxed"></p>
                </div>
            </div>

            <aside class="lg:col-span-1">
                <div class="sticky top-24 bg-white border border-slate-200 rounded-3xl p-8 shadow-sm">
                    <h3 class="text-xl font-bold mb-4">Request COA / Quote</h3>
                    <p class="text-slate-500 text-sm mb-6">Inquire about the latest batch availability for <span class="country-display font-bold"></span>.</p>
                    <a href="mailto:sales@nsmint.com" id="email-link" class="block w-full text-center bg-green-700 hover:bg-green-800 text-white font-bold py-4 rounded-xl transition shadow-md uppercase text-xs tracking-widest">Send RFP</a>
                    <div class="mt-6 pt-6 border-t border-slate-100 flex items-center justify-between">
                        <span class="text-[10px] text-slate-400 font-bold uppercase tracking-widest">Annual Capacity</span>
                        <span class="text-sm font-bold text-slate-700">1,200 MT</span>
                    </div>
                </div>
            </aside>
        </div>
    </main>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const ctry = urlParams.get('country') || 'Libya';
        const prod = urlParams.get('product') || 'L-Menthol Crystals IP';
        const sheetUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTin-HV31mE-Bj1ksOeaiFwvBKQbc7MLpk1XiYm69v63yhualNST3yEDCZ-CWtoN0-9IZlzqu7zoR1e/pub?output=csv' + '&cb=' + new Date().getTime();

        async function init() {
            document.getElementById('main-heading').innerText = prod + ' Supply to ' + ctry;
            document.getElementById('intro-prod').innerText = prod;
            document.querySelectorAll('.country-display').forEach(el => el.innerText = ctry);
            document.getElementById('email-link').href = `mailto:sales@nsmint.com?subject=RFP: ${prod} for ${ctry}`;

            try {
                const res = await fetch(sheetUrl);
                const csvText = await res.text();
                const lines = csvText.split(/\r?\n/).slice(1);
                
                const menuSilos = {};

                for (let line of lines) {
                    const parts = line.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
                    if (parts.length < 5) continue;

                    const row_category = parts[0].replace(/"/g, '').trim();
                    const row_product  = parts[1].replace(/"/g, '').trim();
                    const row_country  = parts[2].replace(/"/g, '').trim();

                    if (row_country.toLowerCase() === ctry.toLowerCase()) {
                        if (!menuSilos[row_category]) menuSilos[row_category] = [];
                        if (!menuSilos[row_category].includes(row_product)) menuSilos[row_category].push(row_product);

                        if (row_product.toLowerCase() === prod.toLowerCase()) {
                            document.getElementById('spec-purity').innerText = parts[3].replace(/"/g, '').trim();
                            document.getElementById('spec-grade').innerText = parts[4].replace(/"/g, '').trim();
                            document.getElementById('spec-method').innerText = parts[5].replace(/"/g, '').trim();
                        }
                    }
                }

                const nav = document.getElementById('category-nav');
                Object.keys(menuSilos).forEach(category => {
                    const wrap = document.createElement('div');
                    wrap.className = "dropdown relative h-full flex items-center";
                    wrap.innerHTML = `
                        <button class="text-[10px] font-extrabold uppercase text-slate-300 hover:text-green-400 px-4 h-full tracking-tight transition whitespace-nowrap">
                            ${category} <span class="opacity-30 ml-1">▼</span>
                        </button>
                        <div class="dropdown-menu p-3">
                            ${menuSilos[category].map(pName => `
                                <a href="page.html?product=${encodeURIComponent(pName)}&country=${encodeURIComponent(ctry)}" 
                                   class="block text-[11px] font-semibold py-2.5 px-4 hover:bg-green-50 hover:text-green-700 rounded-lg transition border-b border-slate-50 last:border-0">
                                   ${pName}
                                </a>
                            `).join('')}
                        </div>`;
                    nav.appendChild(wrap);
                });

                document.getElementById('p1').innerText = `As a recognized 3-Star Export House, N S Mint Products provides a stable supply chain for high-purity ${prod} across the ${ctry} region. Our facility ensures that every batch is manufactured under strict WHO-GMP oversight to meet the specific requirements of the pharmaceutical and flavor industries in ${ctry}.`;
                document.getElementById('p2').innerText = `Importers in ${ctry} can rely on our integrated logistics and exhaustive compliance support. From REACH certification to detailed COA (Certificates of Analysis), we ensure that ${prod} shipments reach ${ctry} distributors with zero regulatory delay.`;

            } catch (e) { console.error(e); }
        }
        init();
    </script>
</body>
</html>
