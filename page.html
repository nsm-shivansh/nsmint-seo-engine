<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="meta-title">N S Mint Products | Premium Global Supply</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap');
        body { font-family: 'Plus Jakarta Sans', sans-serif; }
        .dropdown:hover .dropdown-menu { display: block; }
        .hero-gradient { background: linear-gradient(135deg, #064e3b 0%, #065f46 100%); }
        /* Smooth transition for dropdowns */
        .dropdown-menu { transition: all 0.3s ease; }
    </style>
</head>
<body class="bg-white text-slate-900 antialiased">

    <nav class="bg-white border-b border-slate-100 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
            <img src="https://www.nsmint.com/images/logo.png" alt="N S Mint Logo" class="h-14">
            <div class="hidden lg:flex items-center space-x-6 text-sm font-bold text-slate-500 uppercase tracking-widest">
                <span>3-Star Export House</span>
                <a href="https://www.nsmint.com/contact.html" class="bg-green-700 text-white px-6 py-2 rounded-full hover:bg-green-800 transition shadow-lg">Inquiry Now</a>
            </div>
        </div>

        <div class="bg-slate-900 text-white border-t border-slate-800 w-full overflow-visible">
            <div id="category-nav" class="max-w-7xl mx-auto px-6 flex justify-between py-1 overflow-x-auto whitespace-nowrap">
                </div>
        </div>
    </nav>

    <header class="hero-gradient text-white py-24 px-6 relative overflow-hidden">
        <div class="max-w-6xl mx-auto relative z-10">
            <p class="text-green-300 font-black uppercase tracking-[0.3em] mb-4 text-xs">Global Supply Division</p>
            <h1 id="main-heading" class="text-5xl md:text-7xl font-extrabold mb-8 leading-tight tracking-tighter">...</h1>
            <p class="text-xl md:text-2xl text-green-50 max-w-3xl opacity-90 leading-relaxed font-light">
                Direct factory-grade supply from Sambhal, India. WHO-GMP, REACH, and FSSC 22000 certified manufacturing tailored for <span class="country-display"></span>.
            </p>
        </div>
    </header>

    <main class="max-w-7xl mx-auto py-20 px-6 grid lg:grid-cols-3 gap-16">
        
        <div class="lg:col-span-2 space-y-16">
            <section class="bg-slate-50 border border-slate-200 rounded-[2.5rem] p-10 shadow-2xl">
                <h2 class="text-xs font-black text-slate-400 uppercase tracking-widest mb-10 text-center uppercase">Batch Compliance Specifications</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-px bg-slate-200 border border-slate-200 overflow-hidden rounded-2xl">
                    <div class="bg-white p-8"><p class="text-[10px] font-black text-green-600 uppercase mb-2">Standard Grade</p><p id="spec-grade" class="text-2xl font-extrabold">Loading...</p></div>
                    <div class="bg-white p-8"><p class="text-[10px] font-black text-green-600 uppercase mb-2">Chemical Purity</p><p id="spec-purity" class="text-2xl font-extrabold">Loading...</p></div>
                    <div class="bg-white p-8"><p class="text-[10px] font-black text-green-600 uppercase mb-2">Extraction Method</p><p id="spec-method" class="text-2xl font-extrabold">Loading...</p></div>
                    <div class="bg-white p-8"><p class="text-[10px] font-black text-green-600 uppercase mb-2">Origin Facility</p><p class="text-2xl font-extrabold">Sambhal, India</p></div>
                </div>
            </section>

            <article class="prose prose-slate max-w-none prose-lg">
                <h2 class="text-4xl font-extrabold text-slate-900 tracking-tight">Supply & Export to <span class="country-display"></span></h2>
                <p id="p1" class="text-xl text-slate-600 leading-relaxed"></p>
                
                <div class="bg-green-50 rounded-3xl p-10 border border-green-100 my-12">
                    <h3 class="text-2xl font-extrabold text-green-900 mb-6">Key Market Applications</h3>
                    <ul class="grid md:grid-cols-2 gap-6 text-slate-700 font-semibold list-none p-0">
                        <li class="flex items-center"><span class="w-2 h-2 bg-green-500 rounded-full mr-3"></span>Pharmaceutical Formulations</li>
                        <li class="flex items-center"><span class="w-2 h-2 bg-green-500 rounded-full mr-3"></span>Oral Care & Personal Hygiene</li>
                        <li class="flex items-center"><span class="w-2 h-2 bg-green-500 rounded-full mr-3"></span>Food, Flavors & Confectionery</li>
                        <li class="flex items-center"><span class="w-2 h-2 bg-green-500 rounded-full mr-3"></span>Cosmetics & Fine Fragrances</li>
                    </ul>
                </div>

                <h3 class="text-3xl font-extrabold text-slate-900">Customized Logistics & Compliance</h3>
                <p id="p2" class="text-xl text-slate-600 leading-relaxed"></p>
            </article>
        </div>

        <aside class="lg:col-span-1">
            <div class="sticky top-32 space-y-6">
                <div class="bg-slate-900 text-white rounded-[2rem] p-10 shadow-2xl">
                    <h3 class="text-2xl font-black mb-4">Inquire Now</h3>
                    <p class="text-slate-400 text-sm mb-8 leading-relaxed">Request factory pricing, COA, and shipping timelines for <strong><span class="country-display"></span></strong> delivery.</p>
                    <a href="mailto:sales@nsmint.com" id="email-link" class="block w-full text-center bg-green-600 hover:bg-green-700 text-white font-bold py-5 rounded-2xl transition shadow-lg">Send Official RFP</a>
                    <p class="text-center text-[10px] text-slate-500 font-bold mt-6 uppercase tracking-widest tracking-widest">Global Capacity: 1,200 MT / Year</p>
                </div>
            </div>
        </aside>
    </main>

    <script>
        const params = new URLSearchParams(window.location.search);
        const country = params.get('country') || 'Libya';
        const product = params.get('product') || 'L-Menthol Crystals IP';
        const sheetUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vTin-HV31mE-Bj1ksOeaiFwvBKQbc7MLpk1XiYm69v63yhualNST3yEDCZ-CWtoN0-9IZlzqu7zoR1e/pubhtml';

        async function init() {
            document.getElementById('meta-title').innerText = `${product} Supplier in ${country} | N S Mint`;
            document.getElementById('main-heading').innerText = `${product} Supply to ${country}`;
            document.querySelectorAll('.country-display').forEach(el => el.innerText = country);
            document.getElementById('email-link').href = `mailto:sales@nsmint.com?subject=Inquiry: ${product} for ${country}`;

            try {
                const res = await fetch(sheetUrl);
                const text = await res.text();
                const rows = text.split(/\r?\n/).slice(1);
                
                const categorizedData = {};

                rows.forEach(row => {
                    const cols = row.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);
                    if (cols.length < 6) return;

                    const cat = cols[0].replace(/"/g, '').trim();
                    const prod = cols[1].replace(/"/g, '').trim();
                    const rowCountry = cols[2].replace(/"/g, '').trim();

                    // Map all products to categories for the current country
                    if (rowCountry === country) {
                        if (!categorizedData[cat]) categorizedData[cat] = [];
                        if (!categorizedData[cat].includes(prod)) {
                            categorizedData[cat].push(prod);
                        }
                    }

                    // MATCH PRODUCT DATA (Column 1 is Product, 3 is Purity, 4 is Grade, 5 is Method)
                    if (prod.toLowerCase() === product.toLowerCase() && rowCountry === country) {
                        document.getElementById('spec-purity').innerText = cols[3].replace(/"/g, '');
                        document.getElementById('spec-grade').innerText = cols[4].replace(/"/g, '');
                        document.getElementById('spec-method').innerText = cols[5].replace(/"/g, '');
                    }
                });

                // BUILD DYNAMIC SILO DROPDOWNS
                const nav = document.getElementById('category-nav');
                nav.innerHTML = ''; // Clear loading state
                
                Object.keys(categorizedData).forEach(cat => {
                    const dropdown = document.createElement('div');
                    dropdown.className = "dropdown relative group";
                    dropdown.innerHTML = `
                        <button class="text-[10px] font-black uppercase tracking-widest text-slate-400 group-hover:text-green-400 py-4 px-2 flex items-center">
                            ${cat} <span class="ml-1 text-[8px]">â–¼</span>
                        </button>
                        <div class="dropdown-menu absolute hidden left-0 bg-white text-slate-900 shadow-2xl rounded-xl p-2 min-w-[280px] border border-slate-100 top-full">
                            ${categorizedData[cat].map(p => `
                                <a href="page.html?product=${encodeURIComponent(p)}&country=${encodeURIComponent(country)}" 
                                   class="block text-[11px] font-bold py-2 px-4 hover:bg-green-50 hover:text-green-700 rounded-lg transition whitespace-normal">
                                   ${p}
                                </a>
                            `).join('')}
                        </div>
                    `;
                    nav.appendChild(dropdown);
                });

                // CONTENT STRINGS
                document.getElementById('p1').innerText = `N S Mint Products, a recognized 3-Star Export House, serves as a primary manufacturer and supplier of ${product} to industries in ${country}. Sourced from the highest quality Mentha Arvensis crops in India, our ${product} undergoes triple-distillation and precise crystallization to meet the specific pharmacopeia standards required by ${country} manufacturers.`;
                document.getElementById('p2').innerText = `We facilitate seamless logistics to ${country} for all orders of ${product}. Our quality assurance team ensures every batch is accompanied by comprehensive COA, MSDS, and REACH compliance documentation. Whether for pharmaceutical applications or large-scale food production in ${country}, N S Mint ensures stability in supply chain and purity.`;

            } catch (e) { 
                console.error('Error loading data:', e);
            }
        }
        init();
    </script>
</body>
</html>
